@extends('layouts.app')

@section('content')
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">Dashboard<p><a class="dashboard_create" href="/classes/create">Create</a></p></div>
              
                <div class="card-body">
                    @if (session('status'))
                        <div class="alert alert-success" role="alert">
                            {{ session('status') }}
                        </div>
                    @endif

                 <div class="dashboard_class-outer">
                  <?php
                    $raw=explode(" ",auth()->user()->name);
                    $user_name=strtolower(implode('-', $raw));
                  ?>
   
                    @if(count($classes)>0)
                        @foreach($classes as $class)
                        @php 
                            $name=$class->inv_groups;
                            //$name=str_replace("|"," | ",$name);
                            $name=explode("|",$name);
                            $name=implode(" | ",$name);
                            //echo $name;
                         @endphp
                        <div class="dashboard_class-body">
                            <div class="dashboard_item-header">
                                <h3>{{strtoupper($class->cl_name)}}</h3>
                                <p>{{$class->cl_description}}</p>
                            </div>
                            <div class="dashboard_item-body">
                                <div class="dashboard-class-row"><p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="25px" height="25px" viewBox="0 0 85.988 85.987" style="enable-background:new 0 0 85.988 85.987;" xml:space="preserve"><g><path d="M77.993,30.884c-2.692,0-4.878,2.185-4.878,4.868c0,2.685,2.186,4.867,4.878,4.867   c2.683,0,4.867-2.183,4.867-4.867C82.86,33.069,80.675,30.884,77.993,30.884z M8.005,30.884c-2.692,0-4.878,2.185-4.878,4.868   c0,2.685,2.186,4.867,4.878,4.867c2.685,0,4.87-2.183,4.87-4.867C12.875,33.069,10.69,30.884,8.005,30.884z M63.504,22.03   c-3.997,0-7.239,3.25-7.239,7.25c0,3.992,3.242,7.236,7.239,7.236c3.998,0,7.25-3.244,7.25-7.236   C70.754,25.284,67.502,22.03,63.504,22.03z M85.988,66.088h-8.254V50.896c0-2.61-0.767-5.033-1.999-7.146   c0.726-0.212,1.471-0.363,2.258-0.363c4.401,0,7.995,3.594,7.995,8.006V66.088z M22.483,22.03c-4,0-7.25,3.25-7.25,7.25   c0,3.992,3.25,7.236,7.25,7.236c3.987,0,7.237-3.244,7.237-7.236C29.72,25.284,26.471,22.03,22.483,22.03z M8.005,43.387   c0.787,0,1.522,0.15,2.25,0.363c-1.245,2.113-1.999,4.536-1.999,7.146v15.192H0V51.393C0,46.98,3.596,43.387,8.005,43.387z    M42.986,7.555c-5.9,0-10.71,4.805-10.71,10.711c0,5.905,4.805,10.716,10.71,10.716c5.906,0,10.717-4.811,10.717-10.716   C53.708,12.359,48.892,7.555,42.986,7.555z M75.083,71.742H62.438V48.627c0-3.179-0.839-6.136-2.195-8.787   c1.035-0.306,2.123-0.523,3.262-0.523c6.38,0,11.578,5.188,11.578,11.579V71.742z M23.537,48.627v23.115H10.908V50.896   c0-6.385,5.191-11.579,11.581-11.579c1.139,0,2.216,0.217,3.249,0.523C24.381,42.491,23.537,45.448,23.537,48.627z M26.188,78.433   h33.598V48.627c0-9.264-7.539-16.798-16.801-16.798c-9.269,0-16.797,7.534-16.797,16.798V78.433z" fill="#858585"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg> {{$name}}</p></div>
                                <div class="dashboard-class-row"><p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="25px" height="25px" viewBox="0 0 489.38 489.38" style="enable-background:new 0 0 489.38 489.38;" xml:space="preserve"><g><g id="XMLID_129_"><path id="XMLID_134_" d="M473.725,5.656H213.576c-8.655,0-15.655,7.022-15.655,15.664v110.484l11.319-13.234   c5.375-6.292,12.461-10.172,19.992-11.793V36.978h228.836v204.531H229.233v-34.238l-7.05,8.244   c-6.161,7.189-14.858,11.65-24.262,12.529v29.124c0,8.642,7,15.655,15.655,15.655h84.489L255.141,467.7   c-1.923,8.739,3.6,17.382,12.346,19.31c8.667,1.904,17.382-3.601,19.287-12.331l44.457-201.855h25.844l44.457,201.855   c1.666,7.557,8.369,12.714,15.803,12.705c1.154,0,2.334-0.117,3.502-0.374c8.746-1.928,14.268-10.57,12.328-19.31l-42.92-194.877   h83.481c8.647,0,15.655-7.013,15.655-15.655V21.32C489.38,12.678,482.372,5.656,473.725,5.656z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#858585"/><path id="XMLID_132_" d="M349.368,97.116c-1.234-3.11-4.732-4.637-7.84-3.406l-92.234,32.555   c-8.465-6.554-20.678-5.383-27.737,2.827l-29.267,34.178l-25.951-22.245c0.171,1.837,0.56,3.622,0.56,5.507v48.291l14.438,12.371   c8.568,7.338,21.385,6.204,28.549-2.198l34.842-40.743l28.1-16.439l73.951-43.267C349.336,103.073,350.469,99.923,349.368,97.116z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#858585"/><path id="XMLID_131_" d="M109.928,105.776H92.547c-13.308,0-25.01,6.468-32.448,16.327l-53.352,49.12   c-8.313,7.405-9.067,20.232-1.581,28.595l43.528,48.585c7.421,8.309,20.267,9.044,28.579,1.576   c8.334-7.469,9.038-20.262,1.57-28.586l-30.003-33.504l42.616-38.134l-24.82,33.721l24.279,27.107   c13.416,14.992,12.151,38.027-2.834,51.453c-10.231,9.172-24.193,11.324-36.297,7.094c0,0,0.188,93.659,0.188,193.962   c0,13.416,10.874,24.291,24.291,24.291c13.403,0,24.291-10.875,24.291-24.291c0-100.272,0-43.051,0-144.771h16.203   c0,101.646,0,44.468,0,144.771c0,7.004-1.953,13.49-5.067,19.231c4.076,3.135,9.148,5.06,14.676,5.06   c13.424,0,24.298-10.875,24.298-24.291c0-100.272,0.031-58.237,0.031-316.561C150.697,124.022,132.45,105.776,109.928,105.776z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#858585"/><path id="XMLID_130_" d="M79.592,91.198c6.495,3.376,13.787,5.471,21.62,5.471c7.853,0,15.145-2.095,21.659-5.477   c15.204-7.877,25.684-23.559,25.684-41.862c0-26.146-21.196-47.335-47.344-47.335c-26.144,0-47.335,21.189-47.335,47.335   C53.877,67.643,64.368,83.331,79.592,91.198z" data-original="#000000" class="active-path" data-old_color="#000000" fill="#858585"/></g></g></svg> {{$class->num_of_lessons}} - lectures</p></div>
                                <div class="dashboard-class-row"><p><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="25px" height="25px" viewBox="0 0 444.059 444.059" style="enable-background:new 0 0 444.059 444.059;" xml:space="preserve"><g><g><g><path d="M357.76,312.234c-3.28-7.848-11.178-12.873-18.713-15.963l-50.938-23.455l-24.473-20.639l-39.323,39.111h-0.03     l16.971,113.445c0.061,0.389-0.04,0.787-0.271,1.105l-17.744,24.283c-0.282,0.391-0.732,0.617-1.212,0.617     c-0.48,0-0.93-0.229-1.212-0.617l-17.742-24.283c-0.234-0.318-0.332-0.719-0.273-1.105l16.969-113.447h-0.026l-39.321-39.109     l-24.473,20.639l-50.941,23.455c-7.537,3.09-14.943,7.783-18.711,15.963c0,0-55.371,131.824-25.338,131.824h322.145     C413.132,444.061,357.76,312.234,357.76,312.234z" fill="#858585"/><path d="M361.298,131.489c0.767-0.083,1.457-0.449,1.932-1.042c0.481-0.592,0.698-1.355,0.613-2.114     c-0.57-4.869-1.143-9.728-1.708-14.597l-1.187-10.189c-0.181-1.521-1.542-2.627-3.074-2.49l-2.203,0.003l0.042-34.202     l1.153-0.419l3.845-1.388c3.256-1.178,5.424-4.265,5.424-7.724c0-3.46-2.168-6.548-5.424-7.727L224.819,0.49     c-1.807-0.653-3.783-0.653-5.586,0L83.339,49.6c-3.254,1.179-5.422,4.267-5.422,7.727c0,3.459,2.168,6.546,5.422,7.724     l50.236,18.155c-3.546,11.195-5.16,24.013-5.015,38.284c0.884,81.402,48.138,129.944,91.862,129.944     c43.213,0,90.979-48.542,91.859-129.944c0.146-13.832-1.379-26.291-4.697-37.238l36.528-13.2l0.077,30.021l-2.207-0.001     c-1.533-0.134-2.895,0.968-3.07,2.501l-2.857,24.788c-0.086,0.755,0.137,1.51,0.615,2.104c0.479,0.591,1.176,0.97,1.932,1.033      M220.428,231.666c-38.148,0-64.471-44.688-69.781-89.361c-4.91-41.314,54.838-43.237,58.308-17.63     c1.069,7.872-7.97,16.305-6.945,19.556c5.056,16.049,88.772-52.383,88.2-1.946C289.807,177.896,256.775,231.666,220.428,231.666z     " fill="#858585"/></g></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg> {{$class->num_of_st}} - students</p></div>
                            </div>
                            <div class="dashboard_item-btn">
                                <a class="dashboard_class-name" href="{{route('class_show',['user_name'=>$user_name,'id'=>$class->id])}}">View</a>
                                    {{Form::open(['action'=>['ClassController@dropClass','cl_name'=>$class->cl_name,'user_name'=>$user_name],'method'=>'POST'])}}
                                    {{Form::hidden('_method','DELETE')}}
                                    {{Form::submit('Delete class')}}
                                    {{Form::close()}}
                                <a href="{{route('class_edit',['user_name'=>$user_name,'id'=>$class->id])}}">Edit</a>
                            </div>
                        </div>
                        @endforeach
                    @else
                        <div class="empty_body">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 59 59" style="enable-background:new 0 0 59 59;" xml:space="preserve" class=""><g><g><rect x="1.5" y="5" style="fill:#E0C6A9;" width="56" height="14" data-original="#E0C6A9" class=""/><polyline style="fill:#FFECD7;" points="50.5,11 56.5,5 58.5,5 58.5,19 56.5,19 50.5,11  " data-original="#FFECD7" class=""/><polygon style="fill:#CCB297;" points="50.5,11 50.5,19 56.5,19  " data-original="#CCB297"/><polyline style="fill:#FFECD7;" points="8.5,11 2.5,5 0.5,5 0.5,19 2.5,19 8.5,11  " data-original="#FFECD7" class=""/><polygon style="fill:#CCB297;" points="8.5,11 8.5,19 2.5,19  " data-original="#CCB297"/><path style="fill:#F0D7B8;" d="M54.758,59H4.242C2.175,59,0.5,57.325,0.5,55.258V19h58v36.258C58.5,57.325,56.825,59,54.758,59z" data-original="#F0D7B8"/><circle style="fill:#72543A;" cx="17.5" cy="27" r="3" data-original="#72543A"/><circle style="fill:#72543A;" cx="41.5" cy="27" r="3" data-original="#72543A"/><path style="fill:#CEB69E;" d="M29.5,46c-7.168,0-13-5.832-13-13v-6c0-0.553,0.447-1,1-1s1,0.447,1,1v6c0,6.065,4.935,11,11,11   s11-4.935,11-11v-6c0-0.553,0.447-1,1-1s1,0.447,1,1v6C42.5,40.168,36.668,46,29.5,46z" data-original="#CEB69E"/><circle style="fill:#71C285;" cx="29.5" cy="8" r="8" data-original="#71C285"/><path style="fill:#FFFFFF" d="M29.5,13.923c-0.553,0-1-0.447-1-1V3.077c0-0.553,0.447-1,1-1s1,0.447,1,1v9.846   C30.5,13.476,30.053,13.923,29.5,13.923z" data-original="#FFFFFF" class="active-path"/><path style="fill:#FFFFFF" d="M29.5,13.923c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l4.308-4.308   c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-4.308,4.308C30.012,13.825,29.756,13.923,29.5,13.923z" data-original="#FFFFFF" class="active-path"/><path style="fill:#FFFFFF" d="M29.5,13.923c-0.256,0-0.512-0.098-0.707-0.293l-4.308-4.308c-0.391-0.391-0.391-1.023,0-1.414   s1.023-0.391,1.414,0l4.308,4.308c0.391,0.391,0.391,1.023,0,1.414C30.012,13.825,29.756,13.923,29.5,13.923z" data-original="#FFFFFF" class="active-path"/></g></g></svg>
                        </div>
                    @endif
                 </div>
                </div>
            </div>
        </div>
    </div>
</div>

@endsection
